// ===== Telegram Submissions Collection =====
    match /telegramSubmissions/{submissionId} {
      allow read: if isSignedIn() && 
                     (isOwner(resource.data.userId) || isAdmin());
      allow create: if isSignedIn() && 
                       isOwner(request.resource.data.userId);
      allow update: if isAdmin();
      allow delete: if isAdmin();
    }

    // ===== Settings Collection =====
    match /settings/{settingId} {
      allow read: if true; // Public settings like website name, logo
      allow create: if isAdmin();
      allow update: if isAdmin();
      allow delete: if isAdmin();
    }

    // ===== Header Configs Collection =====
    match /headerConfigs/{configId} {
      allow read: if true; // Public reading for frontend display
      allow create: if isAdmin();
      allow update: if isAdmin();
      allow delete: if isAdmin();
    }

    // ===== Footer Configs Collection =====
    match /footerConfigs/{configId} {
      allow read: if true; // Public reading for frontend display
      allow create: if isAdmin();
      allow update: if isAdmin();
      allow delete: if isAdmin();
    }

    // ===== Site Pages Collection =====
    match /sitePages/{pageId} {
      allow read: if true; // Public reading for navigation
      allow create: if isAdmin();
      allow update: if isAdmin();
      allow delete: if isAdmin();
    }

    // ===== Enrollments Collection =====
    match /enrollments/{enrollmentId} {
      allow read: if isSignedIn() && 
                     (isOwner(resource.data.userId) || isAdmin());
      allow create: if isSignedIn() && 
                       isOwner(request.resource.data.userId);
      allow update: if isSignedIn() && 
                       (isOwner(resource.data.userId) || isAdmin());
      allow delete: if isAdmin();
    }

    // ===== Default Deny All =====
    // Any collection not explicitly listed above will be denied
    match /{document=**} {
      allow read, write: if false;
    }
  }
}